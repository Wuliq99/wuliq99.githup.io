<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="预处理命令在接触#if、#undef这类预处理指令前，大部分都都接触过#define、#include等预处理命令，通俗来讲预处理命令的作用就是在编译和链接之前，对源文件进行一些文本方面的操作，比如文本替换、文件包含、删除部分代码等，这个过程叫做预处理（在编译之前对源文件进行简单加工） （#define是一种宏定义命令，是预处理命令的一种）  #include（文件包含命令）#include的用法">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/%E9%A2%84%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="预处理命令在接触#if、#undef这类预处理指令前，大部分都都接触过#define、#include等预处理命令，通俗来讲预处理命令的作用就是在编译和链接之前，对源文件进行一些文本方面的操作，比如文本替换、文件包含、删除部分代码等，这个过程叫做预处理（在编译之前对源文件进行简单加工） （#define是一种宏定义命令，是预处理命令的一种）  #include（文件包含命令）#include的用法">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318170901336-90681435.jpg">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318171459988-2035809390.jpg">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318171648354-772900377.jpg">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318192257918-1271657900.jpg">
<meta property="og:image" content="https://common.cnblogs.com/images/copycode.gif">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318192353614-1338686536.jpg">
<meta property="article:published_time" content="2022-03-03T12:17:20.069Z">
<meta property="article:modified_time" content="2022-02-20T05:13:11.114Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318170901336-90681435.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-C语言总结/预处理命令" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/%E9%A2%84%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/" class="article-date">
  <time class="dt-published" datetime="2022-03-03T12:17:20.069Z" itemprop="datePublished">2022-03-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="预处理命令"><a href="#预处理命令" class="headerlink" title="预处理命令"></a>预处理命令</h1><p>在接触#if、#undef这类预处理指令前，大部分都都接触过#define、#include等预处理命令，通俗来讲预处理命令的作用就是在编译和链接之前，对源文件进行一些文本方面的操作，比如文本替换、文件包含、删除部分代码等，这个过程叫做预处理（在编译之前对源文件进行简单加工）</p>
<p>（#define是一种宏定义命令，是预处理命令的一种）</p>
<p><img src="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318170901336-90681435.jpg" alt="img"></p>
<h1 id="include（文件包含命令）"><a href="#include（文件包含命令）" class="headerlink" title="#include（文件包含命令）"></a>#include（文件包含命令）</h1><p>#include的用法有两种，尖括号&lt;&gt;和双引号””</p>
<p>第一种—-<strong>尖括号</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br></pre></td></tr></table></figure>

<p>第二种—-<strong>双引号</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;stdio.h&quot;</span><br></pre></td></tr></table></figure>

<p>使用尖括号和双引号的区别在于头文件的搜索路径</p>
<p><strong>尖括号</strong>：编译器会到系统路径下查找头文件</p>
<p><strong>双引号</strong>：编译器会先在当前目录下查找头文件，如果没有找到，再到系统路径下查找</p>
<p>注意事项：</p>
<p>1、一个 #include 命令只能包含一个头文件</p>
<p>2、同一个头文件可以被多次引入，多次引入的效果和一次引入的效果相同，因为头文件在代码层面有防止重复引入的机制</p>
<p>3、头文件包含允许嵌套</p>
<p>（头文件只能包含变量和函数的<strong>声明</strong>，不能包含<strong>定义</strong>，否则在多次引入时会引起重复定义错误） </p>
<h1 id="define（宏定义命令）"><a href="#define（宏定义命令）" class="headerlink" title="#define（宏定义命令）"></a>#define（宏定义命令）</h1><p>格式：#define 标识符 字符串 </p>
<p>并不是所有情况下#define所定义的字符串都会被替换，有一种特殊情况：<strong>被替换的字符串在””内</strong></p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 #include &lt;stdio.h&gt;</span><br><span class="line">2 </span><br><span class="line">3 #define MAX 10</span><br><span class="line">4 </span><br><span class="line">5 int main()</span><br><span class="line">6 &#123;</span><br><span class="line">7     printf(&quot;MAX&quot;);</span><br><span class="line">8 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>还有需要注意的一点是，不管是在某个函数内，还是在所有函数之外（不太建议把#define写在函数内），#define作用域都是从<strong>定义开始直到整个文件结尾</strong>（这一点和typedef就区别很大）</p>
<p><strong>#define（宏定义）—-由预处理器来处理</strong></p>
<p><strong>typedef—-在编译阶段由编译器处理</strong></p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 void fun();</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6     #define MAX int</span><br><span class="line"> 7 </span><br><span class="line"> 8     MAX a = 10;</span><br><span class="line"> 9     printf(&quot;%d&quot;, a);</span><br><span class="line">10     fun();</span><br><span class="line">11 &#125;</span><br><span class="line">12 </span><br><span class="line">13 void fun()</span><br><span class="line">14 &#123;</span><br><span class="line">15     MAX b = 10;</span><br><span class="line">16     printf(&quot;%d&quot;, b);</span><br><span class="line">17 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p> define与typedef作用域的的区别：</p>
<p><strong>typedef****：</strong></p>
<p>如果放在所有函数之外，它的作用域就是从<strong>它定义开始直到文件尾</strong></p>
<p>如果放在某个函数内，它的作用域就是从<strong>它定义开始直到该函数结尾</strong></p>
<p><strong>#define****：</strong></p>
<p>不管是在某个函数内，还是在所有函数之外，作用域都是从定义开始直到整个文件结尾（不管是typedef还是define，其作用域都不会扩展到别的文件，即使是同一个程序的不同文件，也不能互相使用）</p>
<p>这里说下题外话#define叫宏定义，但是在笔者的认识里对声明和定义的理解是：声明不分配内存，定义才分配内存，所以#define虽然名字里面有“定义”两个字，但并不占存储空间（为什么不叫宏声明···）</p>
<p>总结：#define和<strong>声明、定义都不同</strong>，宏定义不占内存空间，因为宏在预处理阶段就会被替换掉，到了编译的阶段是没有宏存在的，它在预编译阶段就被处理了</p>
<h1 id="undef"><a href="#undef" class="headerlink" title="#undef"></a>#undef</h1><p>上文提到#define的作用域是从它声明开始到文件结尾，#undef就是取消之前的宏定义（也就是#define的标识符）</p>
<p>格式：#undef 标识符（注意：如果标识符当前没有被定义成一个宏名称，那么就会<strong>忽略</strong>该指令）</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6     printf(&quot;%d&quot;, MAX);</span><br><span class="line"> 7 #undef MAX</span><br><span class="line"> 8 #define    MAX 20</span><br><span class="line"> 9     printf(&quot;%d&quot;, MAX);</span><br><span class="line">10 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<h1 id="if（条件编译）"><a href="#if（条件编译）" class="headerlink" title="#if（条件编译）"></a>#if（条件编译）</h1><p>#if的使用和if else的使用非常相似，一般使用格式如下</p>
<p><strong>#if 整型常量表达式1<br>  程序段1<br>#elif 整型常量表达式2<br>  程序段2<br>#else<br>  程序段3<br>#endif</strong></p>
<p>执行起来就是，如果整形常量表达式为真，则执行程序段1，否则继续往后判断依次类推（注意是整形常量表达式），最后#endif是#if的结束标志</p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &quot;stdio.h&quot;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6     printf(&quot;MAX = %d\n&quot;, MAX);</span><br><span class="line"> 7 </span><br><span class="line"> 8 #if    MAX == 10</span><br><span class="line"> 9     printf(&quot;MAX已被定义\n&quot;);</span><br><span class="line">10 #else </span><br><span class="line">11     printf(&quot;MAX未被定义\n&quot;);</span><br><span class="line">12     #undef MAX</span><br><span class="line">13     #define    MAX 20</span><br><span class="line">14 #endif</span><br><span class="line">15 </span><br><span class="line">16 </span><br><span class="line">17     printf(&quot;MAX = %d\n&quot;, MAX);</span><br><span class="line">18 </span><br><span class="line">19     return 0;</span><br><span class="line">20 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>运行结果：</p>
<p><img src="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318171459988-2035809390.jpg" alt="img"></p>
<p>代码稍加修改：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &quot;stdio.h&quot;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6 #if    MAX == 1</span><br><span class="line"> 7     printf(&quot;MAX已被定义\n&quot;);</span><br><span class="line"> 8 #else </span><br><span class="line"> 9     printf(&quot;MAX未被定义\n&quot;);</span><br><span class="line">10     #undef MAX</span><br><span class="line">11     #define    MAX 20</span><br><span class="line">12 #endif</span><br><span class="line">13 </span><br><span class="line">14 </span><br><span class="line">15     printf(&quot;MAX = %d\n&quot;, MAX);</span><br><span class="line">16 </span><br><span class="line">17     return 0;</span><br><span class="line">18 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>运行结果：</p>
<p><img src="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318171648354-772900377.jpg" alt="img"></p>
<p>#if命令要求判断条件为<strong>整型常量表达式</strong>，也就是说表达式中不能包含<strong>变量</strong>，而且结果必须是<strong>整数</strong>；而if后面的表达式没有限制，只要符合语法就行,这是#if和if的一个重要区别</p>
<h1 id="ifdef"><a href="#ifdef" class="headerlink" title="#ifdef"></a>#ifdef</h1><p>#ifdef的作用是判断某个宏是否定义，如果该宏已经定义则执行后面的代码，一般使用格式如下</p>
<p><strong>#ifdef  宏名<br>  程序段1<br>#else<br>  程序段2<br>#endif</strong></p>
<p>它的意思是，如果该宏已被定义过，则对<strong>程序段1</strong>进行编译，否则对<strong>程序段2</strong>进行编译（这个和上面的#if一样最后都需要#endif），上述格式也可以不用#else，这一点上和if else相同</p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6 #ifdef MAX</span><br><span class="line"> 7     printf(&quot;MAX已被定义\n&quot;);</span><br><span class="line"> 8 #else </span><br><span class="line"> 9     printf(&quot;MAX未被定义\n&quot;);</span><br><span class="line">10     #undef MAX</span><br><span class="line">11     #define    MAX 20</span><br><span class="line">12 #endif</span><br><span class="line">13 </span><br><span class="line">14 </span><br><span class="line">15     printf(&quot;MAX = %d\n&quot;, MAX);</span><br><span class="line">16 </span><br><span class="line">17     return 0;</span><br><span class="line">18 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<h1 id="ifndef"><a href="#ifndef" class="headerlink" title="#ifndef"></a>#ifndef</h1><p>#ifndef恰好和#ifdef相反</p>
<p><strong>#ifndef 宏名<br>  程序段1<br>#else<br>  程序段2<br>#endif</strong></p>
<p>如果该宏未被定义，则对“程序段1”进行编译，否则对“程序段2”进行编译</p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6 #ifndef MAX</span><br><span class="line"> 7     printf(&quot;MAX未被定义\n&quot;);</span><br><span class="line"> 8 #else </span><br><span class="line"> 9     printf(&quot;MAX已被定义\n&quot;);</span><br><span class="line">10     #undef MAX</span><br><span class="line">11     #define    MAX 20</span><br><span class="line">12 #endif</span><br><span class="line">13 </span><br><span class="line">14 </span><br><span class="line">15     printf(&quot;MAX = %d\n&quot;, MAX);</span><br><span class="line">16 </span><br><span class="line">17     return 0;</span><br><span class="line">18 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<h1 id="elif"><a href="#elif" class="headerlink" title="#elif"></a>#elif</h1><p>#elif相当于if else语句中的else if()语句，需要注意的是该语句是#elif，而不是#elseif</p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 int main()</span><br><span class="line"> 5 &#123;</span><br><span class="line"> 6 #if MAX==0</span><br><span class="line"> 7     printf(&quot;MAX=0&quot;);</span><br><span class="line"> 8 #elif MAX==10</span><br><span class="line"> 9     printf(&quot;MAX=10\n&quot;);</span><br><span class="line">10 #endif</span><br><span class="line">11 </span><br><span class="line">12     return 0;</span><br><span class="line">13 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<h1 id="endif"><a href="#endif" class="headerlink" title="#endif"></a>#endif</h1><p>#endif上面已经用过多次了，需要知道的就是**#endif<strong>是</strong>#if, #ifdef, #ifndef**这些条件命令的结束标志.这里就不再赘述了</p>
<p>上面说了8种预处理命令，下面再补充一个预处理<strong>函数</strong>（注意是<strong>函数</strong>且该函数有返回值）</p>
<h1 id="defined函数"><a href="#defined函数" class="headerlink" title="defined函数"></a>defined函数</h1><p>defined函数的作用是判断某个宏是否被定义,若该宏被定义则返回<strong>1</strong>，否则返回<strong>0</strong>，该函数经常与#if #elif #else配合使用，一般使用格式为：</p>
<p><strong>defined 宏名</strong></p>
<p><strong>或</strong></p>
<p><strong>defined (宏名)—-（个人建议，还是加上括号比较好）</strong></p>
<p>上文提到有#ifdef、#ifndef来判断宏名是否被定义，乍一看defined有点多余，其实不然，#ifdef和#ifndef仅能一次判断一个宏名，而defined能做到一次判断多个宏名</p>
<p>代码示例：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 #define MIN 2</span><br><span class="line"> 5 #define AVE 6</span><br><span class="line"> 6 int main()</span><br><span class="line"> 7 &#123;</span><br><span class="line"> 8 #if defined (MAX) &amp;&amp; defined (MIN) &amp;&amp; defined (AVE)</span><br><span class="line"> 9     printf(&quot;三个宏已全部定义\n&quot;);</span><br><span class="line">10 #elif MAX==10</span><br><span class="line">11     printf(&quot;三个宏未全部定义\n&quot;);</span><br><span class="line">12 #endif</span><br><span class="line">13 </span><br><span class="line">14     return 0;</span><br><span class="line">15 &#125;</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>运行效果：</p>
<p><img src="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318192257918-1271657900.jpg" alt="img"></p>
<p>**<br>**代码稍加修改：</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> 1 #include &lt;stdio.h&gt;</span><br><span class="line"> 2 </span><br><span class="line"> 3 #define MAX 10</span><br><span class="line"> 4 #define MIN 2</span><br><span class="line"> 5 //#define AVE 6</span><br><span class="line"> 6 int main()</span><br><span class="line"> 7 &#123;</span><br><span class="line"> 8 #if defined (MAX) &amp;&amp; defined (MIN) &amp;&amp; defined (AVE)</span><br><span class="line"> 9     printf(&quot;三个宏已全部定义\n&quot;);</span><br><span class="line">10 #elif MAX==10</span><br><span class="line">11     printf(&quot;三个宏未全部定义\n&quot;);</span><br><span class="line">12 #endif</span><br><span class="line">13 </span><br><span class="line">14     return 0;</span><br><span class="line">15 &#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://img2018.cnblogs.com/blog/1590962/201903/1590962-20190318192353614-1338686536.jpg" alt="img"></p>
<p>预处理功能是C语言特有的功能，使用预处理功能便于程序的修改、阅读、移植和调试，也便于实现模块化程序设计</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/%E9%A2%84%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/" data-id="cl0dbs9ft000jdgtq1jvb4qz5" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/%E6%B3%A8%E6%84%8F/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/%E4%BE%8B%E9%A2%98/%E7%BB%93%E6%9E%84%E4%BD%93%E4%BE%8B%E9%A2%98/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/c%E8%AF%AD%E8%A8%80%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E7%9A%84%E8%AE%BF%E9%97%AE/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/c%E8%AF%AD%E8%A8%80%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E5%92%8C%E6%8C%87%E9%92%88%E5%87%BD%E6%95%B0/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/c%E8%AF%AD%E8%A8%80%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/%E5%8F%98%E9%95%BF%E6%95%B0%E7%BB%84/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/03/03/C%E8%AF%AD%E8%A8%80%E6%80%BB%E7%BB%93/c%E8%AF%AD%E8%A8%80%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/typedef%E4%B8%8Edefine/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>